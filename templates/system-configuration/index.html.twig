{% extends app.request.xmlHttpRequest ? 'form.html.twig' : 'base.html.twig' %}
{% import "system-configuration/actions.html.twig" as actions %}

{% block page_title %}{{ 'title'|trans({}, 'system-configuration') }}{% endblock %}
{% block page_subtitle %}{{ 'subtitle'|trans({}, 'system-configuration') }}{% endblock %}
{% block page_actions %}{{ actions.system_configuration('index') }}{% endblock %}

{% block main %}

    {% set formEditTemplate = app.request.xmlHttpRequest ? 'default/_form_modal.html.twig' : 'default/_form.html.twig' %}

    {% for section in sections %}
        {{ include(formEditTemplate, {
            'title': section.model.section|trans({}, 'system-configuration'),
            'form': section.form,
        }) }}
    {% endfor %}

{% endblock %}
